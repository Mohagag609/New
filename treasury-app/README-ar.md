# تطبيق الخزينة (Desktop)

هذا المشروع هو تطبيق مكتبي لإدارة الخزينة تم تطويره باستخدام Electron, React, TypeScript, و SQLite.

## الميزات

- **إدارة شاملة:** سندات قبض وصرف، حسابات، عملاء وموردين، شركاء، ومصروفات.
- **لوحة تحكم:** عرض سريع لمؤشرات الأداء الرئيسية (KPIs) ورسوم بيانية.
- **تقارير:** تقارير مالية مثل أرصدة الحسابات وكشف الدخل.
- **استيراد بيانات:** ميزة قوية لاستيراد البيانات من ملفات Excel/CSV باستخدام ملف تعيين (mapping) مخصص.
- **واجهة عصرية:** دعم كامل للغة العربية (RTL)، مع ثيم داكن وفاتح.

## التقنيات المستخدمة

- **Electron:** إطار عمل لبناء تطبيقات سطح المكتب.
- **React & TypeScript:** لبناء واجهة المستخدم.
- **Tailwind CSS:** لتصميم الواجهة.
- **SQLite & better-sqlite3:** لإدارة قاعدة البيانات المحلية.
- **Zustand:** لإدارة الحالة في واجهة المستخدم.
- **Electron Builder:** لتغليف التطبيق وإنشاء ملفات التثبيت.

---

## الإعداد والتشغيل

لتشغيل المشروع على جهازك، اتبع الخطوات التالية:

### 1. تثبيت المتطلبات

تأكد من أن لديك [Node.js](https://nodejs.org/) (إصدار 20 أو أحدث) و npm مثبتين على جهازك.

### 2. تثبيت التبعيات

افتح الطرفية (Terminal) في مجلد المشروع وقم بتشغيل الأمر التالي:

```bash
npm install
```

### 3. تهيئة قاعدة البيانات

بعد تثبيت التبعيات، تحتاج إلى إنشاء جداول قاعدة البيانات عن طريق تشغيل المهاجرات (migrations):

```bash
npm run migrate
```

### 4. إضافة بيانات تجريبية (اختياري)

لتجربة التطبيق ببيانات جاهزة، يمكنك تشغيل سكربت البيانات الأولية (seeder):

```bash
npm run seed
```
هذا الأمر سيقوم بإنشاء مستخدمين افتراضيين، حسابات أساسية، وبعض السندات التجريبية.

### 5. تشغيل التطبيق في وضع التطوير

لبدء تشغيل التطبيق مع إعادة التحميل التلقائية عند أي تغيير في الكود:

```bash
npm run dev
```

---

## بناء التطبيق (للنشر)

لإنشاء نسخة نهائية من التطبيق (ملف `EXE` لنظام ويندوز)، قم بتشغيل الأوامر التالية بالترتيب:

```bash
# 1. بناء ملفات الإنتاج
npm run build

# 2. تغليف التطبيق وإنشاء ملف التثبيت
npm run dist
```

ستجد ملفات التثبيت (`.exe`) في مجلد `release` الذي سيتم إنشاؤه في جذر المشروع.

---

## المستخدمون التجريبيون

بعد تشغيل `npm run seed`، يمكنك استخدام الحسابات التالية لتسجيل الدخول (ملاحظة: لم يتم تنفيذ شاشة تسجيل الدخول بعد، ولكن هذه هي البيانات الموجودة في قاعدة البيانات):

-   **المدير (Admin):**
    -   **اسم المستخدم:** `admin`
    -   **كلمة المرور:** `admin123`
-   **مشاهد (Viewer):**
    -   **اسم المستخدم:** `viewer`
    -   **كلمة المرور:** `viewer123`
