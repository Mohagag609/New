# نظام الخزينة الاحترافي (Professional Treasury System)

هذا المشروع هو تطبيق ويب يعمل من جانب العميل (Client-Side) لإدارة عمليات الخزينة اليومية. تم بناؤه باستخدام HTML, CSS (Tailwind), و JavaScript، مع استخدام IndexedDB كقاعدة بيانات محلية في المتصفح عبر مكتبة Dexie.js.

الواجهة مصممة بالكامل باللغة العربية وتدعم العرض من اليمين إلى اليسار (RTL).

## الميزات الرئيسية

- **إدارة الخزن**: إضافة وتعديل الخزن الرئيسية والفرعية.
- **إدارة الأطراف**: إدارة العملاء والموردين.
- **إدارة الحسابات**: إدارة أنواع المصروفات والإيرادات.
- **إدارة السندات**: نظام متكامل لإنشاء:
  - سندات القبض (Receipts)
  - سندات الصرف (Payments)
  - التحويلات المالية بين الخزن (Transfers)
- **تقرير دفتر الخزنة (Ledger)**: عرض كشف حساب تفصيلي لأي خزنة خلال فترة محددة، مع حساب دقيق للرصيد الافتتاحي والرصيد الجاري.
- **تصدير CSV**: إمكانية تصدير تقرير دفتر الخزنة إلى ملف CSV.
- **طباعة السندات**: إنشاء نسخة قابلة للطباعة لأي سند.
- **الإعدادات**: صفحة لحفظ اسم الشركة لعرضه في رأس السند المطبوع.
- **النسخ الاحتياطي والاستعادة**: تصدير جميع بيانات التطبيق إلى ملف JSON واحد، واستيرادها مرة أخرى، مما يضمن أمان البيانات.

## التقنيات المستخدمة

- **HTML5**
- **CSS3**
- **Tailwind CSS** (via CDN)
- **JavaScript (ES6+)**
- **Dexie.js** (Wrapper for IndexedDB)

## كيفية التشغيل

هذا التطبيق لا يتطلب أي عملية بناء أو تجميع (No Build Step).

نظرًا لقيود الأمان في بعض المتصفحات التي تمنع الوصول إلى IndexedDB عند فتح الملفات المحلية مباشرة (`file:///`)، فإن الطريقة المثلى لتشغيل التطبيق هي عبر خادم ويب محلي بسيط.

### استخدام خادم بايثون المحلي (موصى به)

1.  تأكد من أن لديك Python 3 مثبتًا على جهازك.
2.  افتح الطرفية (Terminal/Command Prompt) في مجلد المشروع.
3.  قم بتشغيل الأمر التالي:
    ```bash
    python -m http.server
    ```
4.  افتح متصفح الويب الخاص بك وانتقل إلى العنوان: `http://localhost:8000`

### الطريقة المباشرة (قد لا تعمل في بعض المتصفحات)

يمكنك محاولة فتح ملف `index.html` مباشرة في متصفحك، لكن إذا واجهت مشاكل، يرجى استخدام طريقة الخادم المحلي.

## ملاحظات حول البيانات

- يتم تخزين جميع البيانات التي تدخلها بشكل آمن في قاعدة بيانات IndexedDB داخل متصفحك.
- تبقى البيانات محفوظة بين الجلسات (حتى لو أغلقت المتصفح).
- **هام**: بما أن البيانات محلية، فهي مرتبطة بالمتصفح الذي تستخدمه فقط. لن تتمكن من الوصول إليها من متصفح آخر أو جهاز آخر.
- استخدم ميزة **النسخ الاحتياطي** بانتظام لحفظ نسخة من بياناتك في مكان آمن.
